!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.activityDetector=t():e.activityDetector=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t){"use strict";function o(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="active",r="idle",u=i,c=["click","mousemove","keydown","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","focus"],d=["blur"],f=void 0,a=void 0;if("undefined"!=typeof document.hidden)f="hidden",a="visibilitychange";else{var v=["webkit","moz","ms"].find(function(e){return void 0!==n(document[e+"Hidden"])});v&&(f=v+"Hidden",a=v+"visibilitychange")}var l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.activityEvents,v=void 0===n?c:n,l=t.inactivityEvents,s=void 0===l?d:l,m=t.timeToIdle,p=void 0===m?3e4:m,y=t.initialState,b=void 0===y?u:y,h=t.autoInit,w=void 0===h||h,E=(e={},o(e,i,[]),o(e,r,[]),e),x=void 0,S=void 0,T=function I(e){e===i&&(S=setTimeout(function(){return I(r)},p)),x!==e&&(x=e,E[x].forEach(function(e){return setTimeout(e,0)}))},g=function(){clearTimeout(S),T(i)},j=function(){clearTimeout(S),T(r)},L=function(){clearTimeout(S),T(document[f]?r:i)},k=function(e,t,o){e.addEventListener?e.addEventListener(t,o):e.attachEvent(t,o)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;T(e),v.forEach(function(e){return k(window,e,g)}),s.forEach(function(e){return k(window,e,j)}),a&&k(document,a,L)},M=function(e,t){E[e].push(t)},O=function(e,t,o){e.removeEventListener?e.removeEventListener(t,o):e.detachEvent(t,o)},H=function(){E[i]=[],E[r]=[],clearTimeout(S),v.forEach(function(e){return O(window,e,g)}),s.forEach(function(e){return O(window,e,j)}),a&&O(document,a,L)};return w&&D(b),{on:M,stop:H,init:D}};t["default"]=l,e.exports=t["default"]}])});